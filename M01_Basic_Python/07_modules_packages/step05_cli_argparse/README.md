# M1.7 ‚Äî Modules & Packages
## Step 05 ‚Äî CLI —Å `argparse` ‚Äî –º–∏–Ω–∏‚Äë–∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ

> –¶–µ–ª—å —à–∞–≥–∞: –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å –ø–∞–∫–µ—Ç –≤ –∫–æ–Ω—Å–æ–ª—å–Ω—É—é —É—Ç–∏–ª–∏—Ç—É —Å –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–º–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –∏ —Ñ–ª–∞–≥–∞–º–∏.

---

### üéØ –ß—Ç–æ —Ç—ã –æ—Å–≤–æ–∏—à—å
- –ü–∞—Ä—Å–∏–Ω–≥ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ —á–µ—Ä–µ–∑ `argparse`.
- –ü–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã, —Ñ–ª–∞–≥–∏, `choices`, help‚Äë—Å–æ–æ–±—â–µ–Ω–∏—è.
- –î–∏—Å–ø–µ—Ç—á–µ—Ä –æ–ø–µ—Ä–∞—Ü–∏–π (—Å–ª–æ–≤–∞—Ä—å: –∏–º—è ‚Üí —Ñ—É–Ω–∫—Ü–∏—è).
- –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ —á–∏—Å–µ–ª (int ‚Üí –∏–Ω–∞—á–µ float), –±–µ–∑ –∏—Å–∫–ª—é—á–µ–Ω–∏–π.

---

## üìò –ü–æ–ª–Ω–∞—è —Ç–µ–æ—Ä–∏—è

### 1) `argparse.ArgumentParser`
```python
parser = argparse.ArgumentParser(description="CLI-–∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä")
parser.add_argument("op", choices=["add", "sub", "mul", "div"])
parser.add_argument("a")
parser.add_argument("b")
parser.add_argument("-v", "--verbose", action="store_true")
args = parser.parse_args()
```
- –ü–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã; —Ñ–ª–∞–≥–∏ ‚Äî –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã.
- `choices` –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –¥–æ–ø—É—Å—Ç–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è.

### 2) –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —á–∏—Å–µ–ª
- –î–µ–ª–∞–π –æ—Ç–¥–µ–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é `parse_number(s)`:
  - –µ—Å–ª–∏ `s.lstrip("-").isdigit()` ‚Üí `int(s)`;
  - –∏–Ω–∞—á–µ –ø–æ–ø—Ä–æ–±—É–π `float(s)`;
  - –ø—Ä–∏ –Ω–µ—É—Å–ø–µ—Ö–µ ‚Äî –≤–µ—Ä–Ω–∏ `None` –∏ –≤—ã–≤–µ–¥–∏ –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.

### 3) –î–∏—Å–ø–µ—Ç—á–µ—Ä –æ–ø–µ—Ä–∞—Ü–∏–π
```python
ops = {"add": add, "sub": sub, "mul": mul, "div": div}
func = ops[args.op]
result = func(a, b)
```

### 4) –†–µ–∂–∏–º verbose
- –§–ª–∞–≥ `-v/--verbose`: –ø–µ—á–∞—Ç–∞–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫—É—é —Å—Ç—Ä–æ–∫—É `[INFO] op=... a=... b=...` –ø–µ—Ä–µ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º.

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —à–∞–≥–∞
```
M01_Basic_Python/07_modules_packages/step5_cli_argparse/
‚îî‚îÄ app/
   ‚îú‚îÄ __init__.py
   ‚îú‚îÄ main.py          # CLI-–≤—Ö–æ–¥
   ‚îú‚îÄ core/
   ‚îÇ  ‚îú‚îÄ __init__.py
   ‚îÇ  ‚îî‚îÄ operations.py # add/sub/mul/div (–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ 0 -> —Å–æ–æ–±—â–µ–Ω–∏–µ)
   ‚îî‚îÄ utils/
      ‚îú‚îÄ __init__.py
      ‚îî‚îÄ printer.py
```

> –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∏–º–ø–æ—Ä—Ç—ã ‚Äî **–æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ**. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ `-m`.

---

## üß© –ó–∞–¥–∞–Ω–∏—è

1) –†–µ–∞–ª–∏–∑—É–π –ø–∞—Ä—Å–µ—Ä –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ (–∫–∞–∫ –≤ —Ç–µ–æ—Ä–∏–∏).
2) –ù–∞–ø–∏—à–∏ `parse_number(s)` –ø–æ —Å—Ö–µ–º–µ –≤—ã—à–µ.
3) –°–æ–±–µ—Ä–∏ `ops = {...}` –∏ –≤—ã–∑–æ–≤–∏ –Ω—É–∂–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é.
4) –í—ã–≤–µ–¥–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —á–µ—Ä–µ–∑ `printer`.
5) (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) `-v/--verbose` –ø–µ—á–∞—Ç–∞–µ—Ç –≤—Ö–æ–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.

---

## ‚ñ∂Ô∏è –ö–∞–∫ –∑–∞–ø—É—Å–∫–∞—Ç—å
–ò–∑ –ø–∞–ø–∫–∏ —à–∞–≥–∞:
```bash
python -m app.main add 5 7
python -m app.main div 10 0
python -m app.main mul 2 3 -v
python -m app.main add 2.5 3.2
```

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
- [x] –ö–æ–º–∞–Ω–¥–∞ `python -m app.main ...` –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–∞—Ä—Å–∏—Ç –∞—Ä–≥—É–º–µ–Ω—Ç—ã.
- [x] –†–∞–±–æ—Ç–∞—é—Ç –≤—Å–µ 4 –æ–ø–µ—Ä–∞—Ü–∏–∏; –¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–æ–∫—É‚Äë—Å–æ–æ–±—â–µ–Ω–∏–µ.
- [x] –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –≤–≤–æ–¥ —á–∏—Å–ª–∞ ‚Üí –¥—Ä—É–∂–µ–ª—é–±–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –±–µ–∑ –∏—Å–∫–ª—é—á–µ–Ω–∏–π.
- [x] `--help` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ–ø–∏—Å–∞–Ω–∏–µ –∏ –∞—Ä–≥—É–º–µ–Ω—Ç—ã.

---

## üõü –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

**`ModuleNotFoundError: No module named 'app'`**
‚Äî –ó–∞–ø—É—Å–∫–∞–π –∏–∑ —Ä–æ–¥–∏—Ç–µ–ª—è –ø–∞–ø–∫–∏ `app/` (–∫–∞—Ç–∞–ª–æ–≥ —à–∞–≥–∞), —Ç–æ–ª—å–∫–æ —Ç–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `-m`.

**–ü–∞–¥–∞–µ—Ç –Ω–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ —á–∏—Å–µ–ª**
‚Äî –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏–∫—É `parse_number`: —Å–Ω–∞—á–∞–ª–∞ `int`, –ø–æ—Ç–æ–º `float`, –∏–Ω–∞—á–µ `None`.

**–°–º–µ—à–∞–ª –∏–º–ø–æ—Ä—Ç—ã**
‚Äî –í–Ω—É—Ç—Ä–∏ –ø–∞–∫–µ—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–π –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã (`from .core...`).
