# M1.7 ‚Äî Modules & Packages
## Step 03 ‚Äî `__name__` / `__main__` guard –∏ –∏–º–ø–æ—Ä—Ç –±–µ–∑ –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤

> –¶–µ–ª—å —à–∞–≥–∞: –ø–æ–Ω—è—Ç—å, –∫–æ–≥–¥–∞ –º–æ–¥—É–ª—å –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è **–∫–∞–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∞**, –∞ –∫–æ–≥–¥–∞ –æ–Ω **–ø—Ä–æ—Å—Ç–æ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è**, –∏ –∏—Å–∫–ª—é—á–∏—Ç—å –ø–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ.

---

### üéØ –ß—Ç–æ —Ç—ã –æ—Å–≤–æ–∏—à—å
- –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `__name__`.
- –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω–∞ ¬´–∑–∞—â–∏—Ç–∞¬ª `if __name__ == "__main__":`.
- –ó–∞–ø—É—Å–∫ –º–æ–¥—É–ª—è –≤–Ω—É—Ç—Ä–∏ –ø–∞–∫–µ—Ç–∞: `python -m app.main`.
- –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∏–º–ø–æ—Ä—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–¥ (¬´–±–µ–∑ –ø–æ–±–æ—á–µ–∫¬ª).

---

## üìò –ü–æ–ª–Ω–∞—è —Ç–µ–æ—Ä–∏—è

### 1) `__name__`
- –ü—Ä–∏ **–ø—Ä—è–º–æ–º –∑–∞–ø—É—Å–∫–µ** —Ñ–∞–π–ª–∞: `__name__ == "__main__"`.
- –ü—Ä–∏ **–∏–º–ø–æ—Ä—Ç–µ** –º–æ–¥—É–ª—è: `__name__ == "–ø–∞–∫–µ—Ç.–º–æ–¥—É–ª—å"` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `app.core.operations`).

### 2) –ó–∞—â–∏—Ç–∞ —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞
```python
def main():
    # –∏—Å–ø–æ–ª–Ω—è–µ–º–∞—è –ª–æ–≥–∏–∫–∞
    ...

if __name__ == "__main__":
    main()
```
‚Äî –¢–∞–∫ –∫–æ–¥ **–≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è** —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø—Ä—è–º–æ–º –∑–∞–ø—É—Å–∫–µ.
‚Äî –ü—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ –º–æ–¥—É–ª—å –ø—Ä–æ—Å—Ç–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è (—Ñ—É–Ω–∫—Ü–∏–∏/–∫–ª–∞—Å—Å—ã –¥–æ—Å—Ç—É–ø–Ω—ã), –Ω–æ –Ω–µ ¬´–±–µ–∂–∏—Ç¬ª.

### 3) –ó–∞–ø—É—Å–∫ –º–æ–¥—É–ª–µ–π –ø–∞–∫–µ—Ç–∞
- –î–ª—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–º–ø–æ—Ä—Ç–æ–≤ –∑–∞–ø—É—Å–∫–∞–π:
  `python -m app.main` –∏–∑ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π –ø–∞–ø–∫–∏, –≥–¥–µ –ª–µ–∂–∏—Ç `app/`.
- –ü—Ä—è–º–æ–π –∑–∞–ø—É—Å–∫ —Ñ–∞–π–ª–∞ (`python app/main.py`) –º–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å –∏–º–ø–æ—Ä—Ç—ã ‚Äî –∏–∑–±–µ–≥–∞–µ–º –≤ —É—á–µ–±–Ω—ã—Ö —à–∞–≥–∞—Ö.

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —à–∞–≥–∞
```
M01_Basic_Python/07_modules_packages/step3_main_guard/
‚îî‚îÄ app/
   ‚îú‚îÄ __init__.py
   ‚îú‚îÄ main.py
   ‚îú‚îÄ core/
   ‚îÇ  ‚îú‚îÄ __init__.py
   ‚îÇ  ‚îî‚îÄ operations.py
   ‚îî‚îÄ utils/
      ‚îú‚îÄ __init__.py
      ‚îî‚îÄ printer.py
runner.py   # –∏–º–ø–æ—Ä—Ç –±–µ–∑ –≤—ã–∑–æ–≤–∞ main()
```

---

## üß© –ó–∞–¥–∞–Ω–∏—è

### 1) `app/main.py`
- –í—Å—è –ª–æ–≥–∏–∫–∞ –≤–Ω—É—Ç—Ä–∏ `def main(): ...`
- –í–Ω–∏–∑—É –¥–æ–±–∞–≤—å –∑–∞—â–∏—Ç—É:
  ```python
  if __name__ == "__main__":
      main()
  ```

### 2) –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–º–ø–æ—Ä—Ç–∞ –±–µ–∑ –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
- –°–æ–∑–¥–∞–π `runner.py` —Ä—è–¥–æ–º —Å –ø–∞–ø–∫–æ–π `app/`:
  ```python
  import app.main
  print("Runner finished")
  ```
- –ó–∞–ø—É—Å—Ç–∏:
  ```bash
  python runner.py
  ```
  –û–∂–∏–¥–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ `Runner finished` (–Ω–∏–∫–∞–∫–∏—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π/–ø–µ—á–∞—Ç–µ–π –∏–∑ `main`).

### 3) –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ `__name__`
- –í—Ä–µ–º–µ–Ω–Ω–æ –¥–æ–±–∞–≤—å –≤ `app/core/operations.py`:
  ```python
  print("__name__ in operations:", __name__)
  ```
- –°—Ä–∞–≤–Ω–∏ –≤—ã–≤–æ–¥ –¥–ª—è:
  - `python -m app.main`
  - `python runner.py`

---

## ‚ñ∂Ô∏è –ö–∞–∫ –∑–∞–ø—É—Å–∫–∞—Ç—å
–ò–∑ –ø–∞–ø–∫–∏ `step3_main_guard/`:
```bash
python -m app.main
python runner.py
```

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
- [x] –ü—Ä–∏ `python -m app.main` —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–≥–∏–∫–∞ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞.
- [x] –ü—Ä–∏ `python runner.py` **–Ω–µ—Ç –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤** (–Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è `main()`).
- [x] –ó–Ω–∞—á–µ–Ω–∏–µ `__name__` –≤ –º–æ–¥—É–ª—è—Ö —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ–∂–∏–¥–∞–Ω–∏—è–º.
- [x] –ò–º–ø–æ—Ä—Ç—ã –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –≤–Ω—É—Ç—Ä–∏ –ø–∞–∫–µ—Ç–∞ (`from .core...`).

---

## üõü –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

**–ù–∏—á–µ–≥–æ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ `runner.py`**
‚Äî –≠—Ç–æ —Ö–æ—Ä–æ—à–æ: –∑–Ω–∞—á–∏—Ç, –∏–º–ø–æ—Ä—Ç –±–µ–∑ –ø–æ–±–æ—á–µ–∫. –£–±–µ—Ä–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–π `print`, –∫–æ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä–∏—à—å.

**`ModuleNotFoundError: No module named 'app'`**
‚Äî –ó–∞–ø—É—Å–∫–∞–π –∏–∑ —Ä–æ–¥–∏—Ç–µ–ª—è –ø–∞–ø–∫–∏ `app/` (–∫–∞—Ç–∞–ª–æ–≥ `step3_main_guard/`).

**–ü–µ—á–∞—Ç—å –∏–¥—ë—Ç –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ**
‚Äî –£–±–µ—Ä–∏ ¬´–≤–µ—Ä—Ö–Ω–µ—É—Ä–æ–≤–Ω–µ–≤—ã–π¬ª –∫–æ–¥ (–ø–µ—á–∞—Ç–∞—Ç—å/—Å—á–∏—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–π).
